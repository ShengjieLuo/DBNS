<h1>DBNS Offline Report</h1>

<h2>Report Overview</h2>

<h3>DBNS Overview</h3>

<p>Data-Based Network Security system, (aka DBNS)  is a network security system composed of latest opensource big data components. Within the architecture building and efficiency optimization, the DBNS system can afford various methods to analysis 1GBPS network flow within a single node server, and up to 10GBPS network flow within a three-node server cluster.</p>

<p>DBNS Home:<a href="https://github.com/ShengjieLuo/DBNS/">https://github.com/ShengjieLuo/DBNS/</a></p>

<p>DBNS Document:<a href="http://dbnsdoc.readthedocs.io/en/latest">http://dbnsdoc.readthedocs.io/en/latest</a></p>

<p>DBNS system is developed by Network Computing Center of Department of Computer Science and Engineering, Shanghai Jiao Tong University. You can contact luoshengjie@sjtu.edu.cn for more information.</p>

<h3>Offline Report Overview</h3>

<p>The offline report is built for user of DBNS and established each day. The report is composed of two parts, monitor part and probe part. The monitor serverd as netflow monitor, and the probe serverd as hazard detection.
The report information:</p>

<p>Build Time: 2017-02-20 23:35</p>

<p>Component: Monitor &amp; Probe</p>

<p>DBNS Version: 0.2.0</p>

<p>DBNS Framework: spark-based</p>

<p>DBNS Master: 172.16.0.104</p>

<p>DBNS Slaves: 172.16.0.59 172.16.0.68 </p>

<p>DBNS Component:</p>

<p>DBNS Message Forwarding Component: kafka</p>

<p>DBNS Streaming Computation Component: spark-streaming</p>

<p>DBNS Online Computation Component: Python on mySQL</p>

<p>DBNS Offline Computation Component: Hive on Spark</p>

<p>DBNS Metadata Store Component: mysql::DBNS::metadata</p>

<p>DBNS Tempdata Store Component: mysql::web</p>

<p>DBNS Basic Data Store Component: HDFS</p>

<p>DBNS Distribution:</p>

<p>Streaming Task Cores: 48</p>

<p>Online Analysis Cores: 1</p>

<p>Offline Analysis Cores: 10</p>

<h1>Conclusion of Intellegent Maintain System </h1>

<h2>Monitor Report</h2>

<p>Monitor Function is used to monitor the network flow from the backbone router. In this report, we would include four message resources,</p>

<ul>
<li><p><strong>DRQ</strong>: DNS request package</p></li>
<li><p><strong>DRS</strong>: DNS response package</p></li>
<li><p><strong>HRQ</strong>: HTTP request package</p></li>
<li><p><strong>HRS</strong>: HTTP response package</p></li>
</ul>

<h3>DRQ report</h3>

<h4>Overall situation:</h4>

<p>DNS request report is the package sent to the DNS server to query the IP address of the URL.</p>

<p>Total Number of the DRQ package:{Monitor::DRQ::number}</p>

<h4>Who send the DRQ package?</h4>

<p>{Monitor::DRQ::table1}
{Monitor::DRQ::table2}
{Monitor::DRQ::image1}
{Monitor::DRQ::image2}</p>

<h4>Who receive the DRQ package?</h4>

<p>{Monitor::DRQ::table3}
{Monitor::DRQ::table4}
{Monitor::DRQ::image3}
{Monitor::DRQ::image4}</p>

<h3>DRS report</h3>

<h4>Overall situation:</h4>

<p>DNS response report is the package reponsed by the DNS server. DNS server would inform the IP address to the server who sent the DNS query request.</p>

<p>Total Number of the DRS package:{Monitor::DRS::number}</p>

<h4>Who send the DRS package?</h4>

<p><style scoped="scoped">
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a {
                    border-collapse: collapse;
                    border-spacing: 0;
                    empty-cells: show;
                    border: 1px solid #cbcbcb;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a td, #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a th {
                    border-left: 1px solid #cbcbcb;
                    border-width: 0 0 0 1px;
                    margin: 0;
                    padding: 0.5em 1em;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a td:first-child, #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a th:first-child {
                    border-left-width: 0;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a thead, #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a tfoot {
                    color: #000;
                    text-align: left;
                    vertical-align: bottom;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a thead {
                    background: #e0e0e0;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a tfoot {
                    background: #ededed;
                }
                #table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a tr:nth-child(2n-1) td {
                    background-color: #f2f2f2;
                }
                </style><table id="table-c7eed6e1-e06b-4397-92e1-60bd6c063d5a"><thead><tr><th></th><th>First Occurred Time</th><th>IPaddress</th><th>Frequency</th></tr></thead><tbody><tr><td>1</td><td>1480868217</td><td>202.121.64.5</td><td>79656</td></tr><tr><td>2</td><td>1480868226</td><td>192.168.2.116</td><td>55667</td></tr><tr><td>3</td><td>1480867249</td><td>210.35.96.6</td><td>48998</td></tr><tr><td>4</td><td>1480868217</td><td>202.121.209.11</td><td>46905</td></tr><tr><td>5</td><td>1480868217</td><td>210.35.96.2</td><td>39358</td></tr><tr><td>6</td><td>1480867249</td><td>202.121.64.7</td><td>33154</td></tr><tr><td>7</td><td>1480868218</td><td>192.168.2.215</td><td>18028</td></tr><tr><td>8</td><td>1480867249</td><td>202.121.64.130</td><td>17444</td></tr><tr><td>9</td><td>1480868221</td><td>192.168.2.223</td><td>7519</td></tr><tr><td>10</td><td>1480868055</td><td>202.121.223.29</td><td>5855</td></tr></tbody></table>
{Monitor::DRS::DRSps::table}
![]file:///usr/local/DBNS/report/image/Monitor::DRS::DRSips::image.png
{Monitor::DRS::DRSps::image}</p>

<h4>Who receive the DRS package?</h4>

<p><style scoped="scoped">
                #table-bb553371-1382-4a4e-8c44-e82925731d7d {
                    border-collapse: collapse;
                    border-spacing: 0;
                    empty-cells: show;
                    border: 1px solid #cbcbcb;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d td, #table-bb553371-1382-4a4e-8c44-e82925731d7d th {
                    border-left: 1px solid #cbcbcb;
                    border-width: 0 0 0 1px;
                    margin: 0;
                    padding: 0.5em 1em;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d td:first-child, #table-bb553371-1382-4a4e-8c44-e82925731d7d th:first-child {
                    border-left-width: 0;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d thead, #table-bb553371-1382-4a4e-8c44-e82925731d7d tfoot {
                    color: #000;
                    text-align: left;
                    vertical-align: bottom;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d thead {
                    background: #e0e0e0;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d tfoot {
                    background: #ededed;
                }
                #table-bb553371-1382-4a4e-8c44-e82925731d7d tr:nth-child(2n-1) td {
                    background-color: #f2f2f2;
                }
                </style><table id="table-bb553371-1382-4a4e-8c44-e82925731d7d"><thead><tr><th></th><th>First Occurred Time</th><th>IPaddress</th><th>Frequency</th></tr></thead><tbody><tr><td>1</td><td>1480867249</td><td>202.121.64.5</td><td>87862</td></tr><tr><td>2</td><td>1480867249</td><td>202.120.2.101</td><td>84712</td></tr><tr><td>3</td><td>1480868217</td><td>101.7.8.9</td><td>52793</td></tr><tr><td>4</td><td>1480867249</td><td>210.22.84.3</td><td>32207</td></tr><tr><td>5</td><td>1480867249</td><td>8.8.8.8</td><td>30123</td></tr><tr><td>6</td><td>1480867249</td><td>210.22.70.3</td><td>24833</td></tr><tr><td>7</td><td>1480868218</td><td>210.35.96.6</td><td>7357</td></tr><tr><td>8</td><td>1480868217</td><td>210.35.96.2</td><td>3454</td></tr><tr><td>9</td><td>1480868218</td><td>114.114.114.114</td><td>2188</td></tr><tr><td>10</td><td>1480868285</td><td>202.121.209.11</td><td>2149</td></tr></tbody></table>
{Monitor::DRS::DRSpd::table}
![]file:///usr/local/DBNS/report/image/Monitor::DRS::DRSips::image.png
{Monitor::DRS::DRSps::image}</p>

<h3>HRQ report</h3>

<h4>Overall situation:</h4>

<p>Http request package is one of the most popular package type in Network. For example, if you want to get a net page from www.baidu.com, you would send a HTTP request to the baidu server to fetch the net page.</p>

<p>Total Number of the DRQ package:{Monitor::HRQ::number}</p>

<h4>Who send the HRQ package?</h4>

<p>{Monitor::HRQ::table1}
{Monitor::HRQ::table2}
{Monitor::HRQ::image1}
{Monitor::DRS::image2}</p>

<h4>Who receive the HRQ package?</h4>

<p>{Monitor::DRS::table3}
{Monitor::DRS::table4}
{Monitor::DRS::image3}
{Monitor::DRS::image4}</p>

<h3>HRS report</h3>

<h4>Overall situation:</h4>

<p>HTTP response package is one of the most popular package type in Internet. For example, if you want to get a net page from www.baidu.com, then baidu server would send you a HTTP response package including the netpage you want.</p>

<p>Total Number of the DRQ package:{Monitor::HRS:number}</p>

<h4>Who send the HRQ package?</h4>

<p>{Monitor::HRQ::table1}
{Monitor::HRQ::table2}
{Monitor::HRQ::image1}
{Monitor::DRS::image2}</p>

<h4>Who receive the HRQ package?</h4>

<p>{Monitor::DRS::table3}
{Monitor::DRS::table4}
{Monitor::DRS::image3}
{Monitor::DRS::image4}</p>

<h1>Probe Report </h1>
